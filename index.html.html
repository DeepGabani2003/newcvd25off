<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Jewelry Price Calculator</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: linear-gradient(135deg,#f0f4f8,#d9e4ec); font-family:'Segoe UI',sans-serif; }
    .card { border-radius:20px; box-shadow:0 8px 20px rgba(0,0,0,0.15); }
    .btn-primary { background:linear-gradient(90deg,#0d6efd,#3b82f6); border:none; font-weight:500; transition:0.3s; }
    .btn-primary:hover { background:linear-gradient(90deg,#3b82f6,#0d6efd); transform:translateY(-2px); box-shadow:0 4px 12px rgba(0,0,0,0.2); }
    .table { background:white; border-radius:12px; overflow:hidden; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
    th { background:#0d6efd; color:white; text-transform:uppercase; font-size:14px; letter-spacing:0.5px; }
    td { vertical-align:middle; font-weight:500; }
    h3 { font-weight:700; color:#0d6efd; }
  </style>
</head>
<body>
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-7 col-md-9">
      <div class="card shadow-lg p-4">
        <h3 class="text-center mb-4">üíé Jewelry Price Calculator</h3>

        <!-- Inputs -->
        <div class="row g-3">
          <div class="col-12">
            <label class="form-label">Metal Weight (g)</label>
            <input type="number" id="metalWeight" class="form-control shadow-sm" placeholder="Enter weight in grams">
          </div>
          <div class="col-12"><label class="form-label">Diamonds (0 to 1 ct)</label><input type="number" id="diamond0_80" class="form-control shadow-sm" value="0"></div>
          <div class="col-12"><label class="form-label">Diamonds (1 to 2 ct)</label><input type="number" id="diamond1_25" class="form-control shadow-sm" value="0"></div>
          <div class="col-12"><label class="form-label">Diamonds (2 to 3 ct)</label><input type="number" id="diamond2" class="form-control shadow-sm" value="0"></div>
          <div class="col-12"><label class="form-label">Diamonds (3 to 4 ct)</label><input type="number" id="diamond2_3" class="form-control shadow-sm" value="0"></div>
          <div class="col-12"><label class="form-label">Diamonds (4 to 5 ct)</label><input type="number" id="diamond3_1" class="form-control shadow-sm" value="0"></div>
        </div>

        <!-- Buttons with HTML tooltips (line breaks) -->
        <div class="text-center mt-4 d-flex gap-2">
          <button 
            class="btn btn-primary w-50 py-2" 
            onclick="calculatePrice('solitaire')"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-bs-html="true"
            title="<strong>Solitaire:</strong><br>üíç0.50 ct up koy pan solitaire jewelry mate mane use karo (like: ring, necklace, earring, bracelet).<br><strong>üìåNote:</strong> Jojo ak pan diamond 0.50 ct up hoy to pan manej use karo.">
            Solitaire
          </button>
          
          <button 
            class="btn btn-primary w-50 py-2" 
            onclick="calculatePrice('band')"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-bs-html="true"
            title="<strong>Band:</strong><br>üíçKoy pan multi-size diamond all under 0.50 ct mate mane use karo <br>(like: all minimalist jewelry).">
            Band
          </button>
        </div>

        <!-- Results -->
        <div class="mt-5">
          <h5 class="fw-bold text-center mb-3">üìä Calculation Results</h5>
          <div id="results" class="table-responsive"></div>
        </div>

      </div>
    </div>
  </div>
</div>

<script>
function calculatePrice(type) {
  let metalWeight = parseFloat(document.getElementById("metalWeight").value) || 0;
  let d0_80 = parseFloat(document.getElementById("diamond0_80").value) || 0;
  let d1_25 = parseFloat(document.getElementById("diamond1_25").value) || 0;
  let d2 = parseFloat(document.getElementById("diamond2").value) || 0;
  let d2_3 = parseFloat(document.getElementById("diamond2_3").value) || 0;
  let d3_1 = parseFloat(document.getElementById("diamond3_1").value) || 0;

  let diamondCost = (d0_80 * 10000) + (d1_25 * 12000) + (d2 * 14000) + (d2_3 * 16000) + (d3_1 * 18000);

  // factors
  let finalFactor = type === "solitaire" ? 2.2 : 2.0;
  let listingFactor = type === "solitaire" ? 2.75 : 2.5;

  // silver
  let silverMakingDiv = ((metalWeight*250 + metalWeight*1000 + diamondCost + 8500) / 85);
  let silverFinal = silverMakingDiv * finalFactor;
  let silverListing = silverMakingDiv * listingFactor;

  // gold 10k
  let gold10kMakingDiv = ((metalWeight*6000 + metalWeight*1000 + diamondCost + 8500) / 85);
  let gold10kFinal = gold10kMakingDiv * finalFactor;
  let gold10kListing = gold10kMakingDiv * listingFactor;

  // gold 14k
  let gold14kMakingDiv = ((metalWeight*8500 + metalWeight*1000 + diamondCost + 8500) / 85);
  let gold14kFinal = gold14kMakingDiv * finalFactor;
  let gold14kListing = gold14kMakingDiv * listingFactor;

  // gold 18k
  let gold18kMakingDiv = ((metalWeight*10500 + metalWeight*1000 + diamondCost + 8500) / 85);
  let gold18kFinal = gold18kMakingDiv * finalFactor;
  let gold18kListing = gold18kMakingDiv * listingFactor;

  function format(value) { return value.toFixed(2); }

  document.getElementById("results").innerHTML = `
    <h6 class="text-center mb-2">${type === "solitaire" ? "üíç Solitaire Ring" : "üíç Band Ring"} Calculation</h6>
    <table class="table table-bordered table-hover text-center align-middle">
      <thead>
        <tr>
          <th>Type</th>
          <th>Making</th>
          <th>Final</th>
          <th>Listing Price</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Silver</td>
          <td>${format(silverMakingDiv)}</td>
          <td>${format(silverFinal)}</td>
          <td>${format(silverListing)}</td>
        </tr>
        <tr>
          <td>Gold 10k</td>
          <td>${format(gold10kMakingDiv)}</td>
          <td>${format(gold10kFinal)}</td>
          <td>${format(gold10kListing)}</td>
        </tr>
        <tr>
          <td>Gold 14k</td>
          <td>${format(gold14kMakingDiv)}</td>
          <td>${format(gold14kFinal)}</td>
          <td>${format(gold14kListing)}</td>
        </tr>
        <tr>
          <td>Gold 18k</td>
          <td>${format(gold18kMakingDiv)}</td>
          <td>${format(gold18kFinal)}</td>
          <td>${format(gold18kListing)}</td>
        </tr>
      </tbody>
    </table>
  `;
}

// Enter key = solitaire default
document.addEventListener("keydown", function(e) {
  if (e.key === "Enter") calculatePrice('solitaire');
});

// Enable tooltips (Bootstrap)
document.addEventListener("DOMContentLoaded", function () {
  let tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
  tooltipTriggerList.map(function (tooltipTriggerEl) {
    // Using data-bs-html="true" so <br> works; default arrow will be shown
    return new bootstrap.Tooltip(tooltipTriggerEl);
  });
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
